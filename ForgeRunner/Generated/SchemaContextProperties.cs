// <auto-generated />
#nullable enable
using System;
using System.Collections.Generic;

namespace Runtime.Generated;

public sealed record ContextPropDef(string ParentType, string ChildType, string SmlName, string ValueType, string TargetMeta);

public static class SchemaContextProperties
{
    public static readonly ContextPropDef[] All =
    [
        new ContextPropDef("TabContainer", "*", "title", "string", "tabTitle"),
        new ContextPropDef("DockingContainer", "*", "title", "string", "tabTitle"),
    ];

    private static readonly IReadOnlyDictionary<string, ContextPropDef> ByKey = BuildByKey();

    private static IReadOnlyDictionary<string, ContextPropDef> BuildByKey()
    {
        var map = new Dictionary<string, ContextPropDef>(StringComparer.OrdinalIgnoreCase);
        foreach (var def in All)
        {
            map[BuildKey(def.ParentType, def.ChildType, def.SmlName)] = def;
        }
        return map;
    }

    public static bool TryGet(string parentType, string childType, string propertyName, out ContextPropDef def)
    {
        if (ByKey.TryGetValue(BuildKey(parentType, childType, propertyName), out def!))
        {
            return true;
        }

        return ByKey.TryGetValue(BuildKey(parentType, "*", propertyName), out def!);
    }

    private static string BuildKey(string parentType, string childType, string propertyName)
        => parentType + "|" + childType + "|" + propertyName;
}
